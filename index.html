<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>> ğƒğšğ«ğ¤-ğ¦ğ¢ğ§ğ¢-ğ¦ğ | Control Panel</title>
    <!-- Chargement des icÃ´nes pour les boutons Support/Canal -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com">
    <style>
        :root { --neon: #00ffcc; --dark: #0a0a0a; --glass: rgba(255, 255, 255, 0.05); }
        body { background: var(--dark); color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; overflow-x: hidden; }
        .container { background: var(--glass); backdrop-filter: blur(15px); border: 1px solid rgba(0, 255, 204, 0.2); padding: 40px; border-radius: 20px; box-shadow: 0 0 30px rgba(0, 0, 0, 0.5); width: 90%; max-width: 450px; text-align: center; position: relative; z-index: 1; }
        .bot-logo { width: 80px; height: 80px; border-radius: 15px; border: 2px solid var(--neon); box-shadow: 0 0 15px var(--neon); margin-bottom: 15px; transition: 0.5s; }
        .bot-logo:hover { transform: rotate(10deg) scale(1.1); }
        h1 { font-size: 1.8em; margin: 10px 0; color: var(--neon); text-shadow: 0 0 10px var(--neon); }
        p.desc { font-size: 0.9em; color: #bbb; line-height: 1.6; margin-bottom: 25px; }
        
        .setup-area input { background: #151515; border: 1px solid #333; color: white; padding: 15px; width: 85%; border-radius: 10px; margin-bottom: 20px; font-size: 1.1em; text-align: center; transition: 0.3s; outline: none; }
        .setup-area input:focus { border-color: var(--neon); box-shadow: 0 0 10px var(--neon); }
        .btn-gen { background: var(--neon); color: black; border: none; padding: 15px 30px; border-radius: 10px; cursor: pointer; font-weight: bold; width: 100%; font-size: 1em; transition: 0.3s; }
        .btn-gen:hover { background: white; transform: translateY(-3px); }

        .code-area { display: none; }
        .code-box { font-size: 2.2em; font-weight: bold; letter-spacing: 5px; color: white; margin: 20px 0; padding: 15px; background: rgba(0,0,0,0.4); border-radius: 10px; border: 1px dashed var(--neon); }
        .btn-copy { background: #333; color: white; border: 1px solid #555; padding: 10px 20px; border-radius: 8px; cursor: pointer; margin-top: 10px; font-weight: bold; }

        .social-links { display: flex; justify-content: center; gap: 15px; margin-top: 30px; border-top: 1px solid #333; padding-top: 20px; }
        .social-btn { text-decoration: none; padding: 10px 15px; border-radius: 8px; font-size: 0.9em; font-weight: bold; display: flex; align-items: center; gap: 8px; transition: 0.3s; }
        .btn-wa { background: #25d366; color: white; }
        .btn-channel { background: #0088cc; color: white; }
        .social-btn:hover { transform: scale(1.05); filter: brightness(1.2); }
    </style>
</head>
<body>
    <div class="container">
        <img src="https://i.postimg.cc/qqsXnp8w/L-homme-au-regard-bleu-lumineux.png" class="bot-logo" alt="Logo">
        
        <h1>> ğƒğšğ«ğ¤-ğ¦ğ¢ğ§ğ¢-ğ¦ğ</h1>
        <p class="desc">Interface de jumelage sÃ©curisÃ©e.<br>DÃ©veloppÃ© par Â©Mr Marco.</p>

        <div id="setup-area" class="setup-area">
            <input type="number" id="phone" placeholder="NumÃ©ro (ex: 50944001122)" onkeypress="if(event.key === 'Enter') getPairing()">
            <button onclick="getPairing()" id="mainBtn" class="btn-gen">GÃ‰NÃ‰RER LE CODE <i class="fas fa-bolt"></i></button>
        </div>

        <div id="code-area" class="code-area">
            <div class="code-box" id="displayCode">---- ----</div>
            <button onclick="copyIt()" class="btn-copy"><i class="fas fa-copy"></i> COPIER LE CODE</button>
        </div>

        <div class="social-links">
            <a href="https://wa.me/50941131299" target="_blank" class="social-btn btn-wa">
                <i class="fab fa-whatsapp"></i> SUPPORT
            </a>
            <a href="https://whatsapp.com/channel/0029VbASWFzHFxP6cbTkkz08" target="_blank" class="social-btn btn-channel">
                <i class="fas fa-bullhorn"></i> CHAÃNE
            </a>
        </div>
        <p id="info" style="font-size: 0.7em; margin-top: 20px; color: #555;">Â© 2026 DARK-MODS-CORP | MR MARCO</p>
    </div>

    <script>
        async function getPairing() {
            const numInput = document.getElementById('phone');
            const num = numInput.value.replace(/[^0-9]/g, '');
            if(!num || num.length < 8) return alert("Veuillez entrer un numÃ©ro valide !");
            
            const btn = document.getElementById('mainBtn');
            btn.innerText = "CHARGEMENT...";
            btn.disabled = true;
            
            try {
                // Route synchronisÃ©e avec ton server.js (/pair?number=)
                const res = await fetch(`/pair?number=${num}`);
                const data = await res.json();
                
                if(data.code) {
                    const codeDisplay = document.getElementById('displayCode');
                    codeDisplay.innerText = data.code;
                    document.getElementById('setup-area').style.display = "none";
                    document.getElementById('code-area').style.display = "block";
                } else {
                    alert("Erreur: " + (data.error || "ProblÃ¨me de gÃ©nÃ©ration"));
                    btn.innerText = "GÃ‰NÃ‰RER LE CODE";
                    btn.disabled = false;
                }
            } catch(e) {
                alert("Serveur non disponible. VÃ©rifiez les logs Render.");
                btn.innerText = "GÃ‰NÃ‰RER LE CODE";
                btn.disabled = false;
            }
        }

        function copyIt() {
            const code = document.getElementById('displayCode').innerText;
            navigator.clipboard.writeText(code).then(() => {
                alert("Code copiÃ© ! âœ…\nCollez-le dans 'Appareils connectÃ©s' sur WhatsApp.");
            });
        }
    </script>
</body>
</html>
